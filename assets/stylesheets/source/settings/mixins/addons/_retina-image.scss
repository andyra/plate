
// Title:      Retina Images
// Version:    3.2.0-beta.2
// Author:     Bourbon
// Source:     https://github.com/thoughtbot/bourbon
// Docs:       https://github.com/thoughtbot/bourbon/docs/#prefixer

// The mixin is a helper to generate a retina background-image and non-retina
// background-image. The retina background-image will output to a hidpi media-
// query. The mixin uses a _2x.png retina filename by default.

// Example
// span {
//   @include retina-image(home-icon, 32px 20px);
// }

@mixin retina-image($filename, $background-size, $extension: png, $retina-filename: null, $retina-suffix: _2x, $asset-pipeline: false) {
  @if $asset-pipeline {
    background-image: image-url("#{$filename}.#{$extension}");
  }
  @else {
    background-image:       url("#{$filename}.#{$extension}");
  }

  @include hidpi {
    @if $asset-pipeline {
      @if $retina-filename {
        background-image: image-url("#{$retina-filename}.#{$extension}");
      }
      @else {
        background-image: image-url("#{$filename}#{$retina-suffix}.#{$extension}");
      }
    }

    @else {
      @if $retina-filename {
        background-image: url("#{$retina-filename}.#{$extension}");
      }
      @else {
        background-image: url("#{$filename}#{$retina-suffix}.#{$extension}");
      }
    }

    background-size: $background-size;

  }
}
