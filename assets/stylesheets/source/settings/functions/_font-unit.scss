
// Title:      Font unit conversion
// Version:    0.0.1
// Author:     Andy Smith
// Source:     http://github/com/andyra/proto

// Converts a pixel value into the value of $font-size-base. If unit($font-size-base) is set to `px`,
// this function will simply return the value unmodified.

// ex: font-unit(16)     => 16px        if unit($font-size-base) == px
// ex: font-unit(16)     => 1em         if unit($font-size-base) == em
// ex: font-unit(16, 24) => 0.666em     if unit($font-size-base) == em (based on a parent's font size)
// ex: font-unit(16)     => 1rem        if unit($font-size-base) == rem

@function font-unit($pxval, $base: $font-size-base) {
  // Strip the unit if one is accidentally passed in
  $pxval: strip-unit($pxval);

  @if unit($font-size-base) == "px" {
    @return $pxval * 1px;
  }

  @elseif unit($font-size-base) == "em" {
    @return $pxval / $base * 1em;
  }

  @elseif unit($font-size-base) == "rem" {
    @return $pxval / $base * 1rem;
  }

  @elseif unit($font-size-base) == "%" {
    @return $pxval / $base * 100%;
  }

  @else {
    @warn "$font-size-base must be in px, em, rem, or %";
  }
}

// ex: set-unit(16)     => 16px        if unit($font-size-base) == px
// ex: set-unit(16)     => 1em         if unit($font-size-base) == em
// ex: set-unit(16, 24) => 0.666em     if unit($font-size-base) == em (based on a parent's font size)
// ex: set-unit(16)     => 1rem        if unit($font-size-base) == rem

// ex: set-unit(1rem)   => 16px        if unit($font-size-base) == px

// Let's try this one out.
// font-unit()is only px -> relative
// this one shoud be relative -> px

// Requires a relative value (like: 1rem, 1.456em)
@function rel-to-px($num) {
  // Strip the unit if one is accidentally passed in
  $num: strip-unit($num);

  @if unit($font-size-base) == "px" {
    @return $num * $em-base;
  }

  @elseif unit($font-size-base) == "em" {
    @return $num * 1em;
  }

  @elseif unit($font-size-base) == "rem" {
    @return $num * 1rem;
  }

  @elseif unit($font-size-base) == "%" {
    @return $num * 100%;
  }

  @else {
    @warn "$font-size-base must be in px, em, rem, or %";
  }
}
